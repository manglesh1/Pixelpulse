(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[490],{4429:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/config",function(){return n(3728)}])},3728:function(e,a,n){"use strict";n.r(a);var t=n(2676),i=n(5271),s=n(3294),c=n(3388);a.default=()=>{let[e,a]=(0,i.useState)([]),[n,l]=(0,i.useState)([]),[o,r]=(0,i.useState)({configKey:"",configValue:"",GamesVariantId:"",isActive:!0}),[u,d]=(0,i.useState)(null),m=async()=>{a(await (0,c.Tj)())},h=async()=>{l(await (0,c.T0)())};(0,i.useEffect)(()=>{m(),h()},[]);let g=(0,i.useMemo)(()=>[{Header:"ID",accessor:"id"},{Header:"Config Key",accessor:"configKey"},{Header:"Config Value",accessor:"configValue"},{Header:"Games Variant ID",accessor:"GamesVariantId"},{Header:"Active",accessor:"isActive",Cell:e=>{let{value:a}=e;return a?"Yes":"No"}},{Header:"Actions",accessor:"actions",Cell:e=>{let{row:a}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{className:"button edit",onClick:()=>v(a.original),children:"Edit"}),(0,t.jsx)("button",{className:"button delete",onClick:()=>x(a.original.GameID),children:"Delete"})]})}}],[]),f=e=>{let{name:a,value:n}=e.target;r({...o,[a]:n})},p=async n=>{n.preventDefault(),o.configKey&&o.configValue&&(a([...e,await (0,c._g)(o)]),r({configKey:"",configValue:"",GamesVariantId:"",isActive:!0}))},x=async e=>{await (0,c.vj)(e),m()},v=e=>{d(e)},j=e=>{let{name:a,value:n}=e.target;d({...u,[a]:n})},C=async()=>{u&&(await (0,c.rF)(u.id,u),a(e.map(e=>e.id===u.id?u:e)),d(null))};return(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h1",{className:"header",children:"Configurations"}),(0,t.jsxs)("form",{onSubmit:p,className:"createForm",children:[(0,t.jsx)("input",{type:"text",name:"configKey",placeholder:"Config Key",value:o.configKey,onChange:f,required:!0,className:"input"}),(0,t.jsx)("input",{type:"text",name:"configValue",placeholder:"Config Value",value:o.configValue,onChange:f,required:!0,className:"input"}),(0,t.jsxs)("select",{name:"GamesVariantId",value:o.GamesVariantId,onChange:f,className:"input",children:[(0,t.jsx)("option",{value:"",children:"Select Games Variant"}),n.map(e=>(0,t.jsx)("option",{value:e.ID,children:e.name},e.ID))]}),(0,t.jsxs)("label",{children:["Active:",(0,t.jsx)("input",{type:"checkbox",name:"isActive",checked:o.isActive,onChange:e=>r({...o,isActive:e.target.checked})})]}),(0,t.jsx)("button",{type:"submit",className:"button",children:"Create"})]}),(0,t.jsx)(s.Z,{columns:g,data:e}),u&&(0,t.jsxs)("div",{className:"editForm",children:[(0,t.jsx)("h2",{children:"Edit Config"}),(0,t.jsx)("input",{type:"text",name:"configKey",value:u.configKey,onChange:j,className:"input"}),(0,t.jsx)("input",{type:"text",name:"configValue",value:u.configValue,onChange:j,className:"input"}),(0,t.jsxs)("select",{name:"GamesVariantId",value:u.GamesVariantId,onChange:j,className:"input",children:[(0,t.jsx)("option",{value:"",children:"Select Games Variant"}),n.map(e=>(0,t.jsx)("option",{value:e.ID,children:e.name},e.ID))]}),(0,t.jsxs)("label",{children:["Active:",(0,t.jsx)("input",{type:"checkbox",name:"isActive",checked:u.isActive,onChange:e=>d({...u,isActive:e.target.checked})})]}),(0,t.jsx)("button",{onClick:C,className:"button save",children:"Save"}),(0,t.jsx)("button",{onClick:()=>d(null),className:"button cancel",children:"Cancel"})]})]})}}},function(e){e.O(0,[733,294,888,774,179],function(){return e(e.s=4429)}),_N_E=e.O()}]);