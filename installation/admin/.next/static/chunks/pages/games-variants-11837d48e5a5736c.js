(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{4906:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games-variants",function(){return n(1744)}])},1744:function(e,a,n){"use strict";n.r(a);var i=n(2676),t=n(5271),s=n(3294),l=n(3388);a.default=()=>{let[e,a]=(0,t.useState)([]),[n,r]=(0,t.useState)([]),[c,o]=(0,t.useState)({name:"",variantDescription:"",MaxIterations:5,MaxIterationTime:30,MaxLevel:10,ReductionTimeEachLevel:5,Levels:"",BackgroundImage:"",iconImage:"",video:"",instructions:"",GameId:""}),[m,d]=(0,t.useState)(null),[u,x]=(0,t.useState)(!1),h=async()=>{a(await (0,l.T0)())},v=async()=>{r(await (0,l.kT)())};(0,t.useEffect)(()=>{h(),v()},[]);let p=(0,t.useMemo)(()=>[{Header:"ID",accessor:"ID"},{Header:"Name",accessor:"name",Cell:e=>{let{row:a}=e;return(0,i.jsx)("span",{onClick:()=>L(a.original),style:{cursor:"pointer",color:"blue",textDecoration:"underline"},children:a.original.name})}},{Header:"Description",accessor:"variantDescription"},{Header:"Levels",accessor:"Levels"},{Header:"Instructions",accessor:"instructions"},{Header:"Game ID",accessor:"GameId"},{Header:"Actions",accessor:"actions",Cell:e=>{let{row:a}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)("button",{className:"button edit",onClick:()=>L(a.original),children:"Edit"}),(0,i.jsx)("button",{className:"button delete",onClick:()=>N(a.original.ID),children:"Delete"})]})}}],[]),I=e=>{let{name:a,value:n}=e.target;o({...c,[a]:n})},j=async n=>{n.preventDefault(),c.name&&c.GameId&&(a([...e,await (0,l.bA)(c)]),o({name:"",variantDescription:"",MaxIterations:5,MaxIterationTime:30,MaxLevel:10,ReductionTimeEachLevel:5,Levels:"",BackgroundImage:"",iconImage:"",video:"",instructions:"",GameId:""}),x(!1))},N=async e=>{await (0,l.qL)(e),h()},L=e=>{d(e),x(!0)},M=e=>{let{name:a,value:n}=e.target;d({...m,[a]:n})},b=async n=>{n.preventDefault(),m&&(await (0,l.WR)(m.ID,m),a(e.map(e=>e.ID===m.ID?m:e)),d(null),x(!1))};return(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h1",{className:"header",children:"Games Variants"}),(0,i.jsx)("button",{onClick:()=>{o({name:"",variantDescription:"",MaxIterations:5,MaxIterationTime:30,MaxLevel:10,ReductionTimeEachLevel:5,Levels:"",BackgroundImage:"",iconImage:"",video:"",instructions:"",GameId:""}),x(!0)},className:"button create",children:"Create"}),(0,i.jsx)(s.Z,{columns:p,data:e}),u&&(0,i.jsx)("div",{className:"modal",children:(0,i.jsxs)("div",{className:"modalContent",children:[(0,i.jsx)("button",{className:"closeButton",onClick:()=>{d(null),x(!1)},children:"X"}),(0,i.jsx)("h2",{children:m?"Edit Games Variant":"Create Games Variant"}),(0,i.jsxs)("form",{onSubmit:m?b:j,className:"form",children:[(0,i.jsxs)("div",{className:"formRow",children:[(0,i.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,i.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Name",value:m?m.name:c.name,onChange:m?M:I,required:!0,className:"input"})]}),(0,i.jsxs)("div",{className:"formRow",children:[(0,i.jsx)("label",{htmlFor:"variantDescription",children:"Description:"}),(0,i.jsx)("input",{type:"text",id:"variantDescription",name:"variantDescription",placeholder:"Description",value:m?m.variantDescription:c.variantDescription,onChange:m?M:I,className:"input"})]}),(0,i.jsxs)("div",{className:"formRow",children:[(0,i.jsx)("label",{htmlFor:"MaxIterations",children:"Max Iterations:"}),(0,i.jsx)("input",{type:"number",id:"MaxIterations",name:"MaxIterations",placeholder:"Max Iterations",value:m?m.MaxIterations:c.MaxIterations,onChange:m?M:I,required:!0,className:"input"})]}),(0,i.jsxs)("div",{className:"formRow",children:[(0,i.jsx)("label",{htmlFor:"MaxIterationTime",children:"Max Iteration Time:"}),(0,i.jsx)("input",{type:"number",id:"MaxIterationTime",name:"MaxIterationTime",placeholder:"Max Iteration Time",value:m?m.MaxIterationTime:c.MaxIterationTime,onChange:m?M:I,required:!0,className:"input"})]}),(0,i.jsxs)("div",{className:"formRow",children:[(0,i.jsx)("label",{htmlFor:"MaxLevel",children:"Max Level:"}),(0,i.jsx)("input",{type:"number",id:"MaxLevel",name:"MaxLevel",placeholder:"Max Level",value:m?m.MaxLevel:c.MaxLevel,onChange:m?M:I,required:!0,className:"input"})]}),(0,i.jsxs)("div",{className:"formRow",children:[(0,i.jsx)("label",{htmlFor:"ReductionTimeEachLevel",children:"Reduction Time Each Level:"}),(0,i.jsx)("input",{type:"number",id:"ReductionTimeEachLevel",name:"ReductionTimeEachLevel",placeholder:"Reduction Time Each Level",value:m?m.ReductionTimeEachLevel:c.ReductionTimeEachLevel,onChange:m?M:I,required:!0,className:"input"})]}),(0,i.jsxs)("div",{className:"formRow",children:[(0,i.jsx)("label",{htmlFor:"Levels",children:"Levels:"}),(0,i.jsx)("input",{type:"text",id:"Levels",name:"Levels",placeholder:"Levels",value:m?m.Levels:c.Levels,onChange:m?M:I,className:"input"})]}),(0,i.jsxs)("div",{className:"formRow",children:[(0,i.jsx)("label",{htmlFor:"instructions",children:"Instructions:"}),(0,i.jsx)("textarea",{id:"instructions",name:"instructions",placeholder:"Instructions",value:m?m.instructions:c.instructions,onChange:m?M:I,className:"input textarea",rows:"4"})]}),(0,i.jsxs)("div",{className:"formRow",children:[(0,i.jsx)("label",{htmlFor:"GameId",children:"Game:"}),(0,i.jsxs)("select",{id:"GameId",name:"GameId",value:m?m.GameId:c.GameId,onChange:m?M:I,required:!0,className:"input",children:[(0,i.jsx)("option",{value:"",children:"Select Game"}),n.map(e=>(0,i.jsxs)("option",{value:e.GameID,children:[e.gameName," (",e.gameCode,")"]},e.GameID))]})]}),(0,i.jsx)("button",{type:"submit",className:"button save",children:m?"Save":"Create"})]})]})})]})}}},function(e){e.O(0,[733,294,888,774,179],function(){return e(e.s=4906)}),_N_E=e.O()}]);